<?php

namespace Database\Seeders;

use Illuminate\Database\Seeder;
use App\Models\Test;
use App\Models\TestQuestion;
use App\Models\TestQuestionOption;

class CareerAnchorsSeeder extends Seeder
{
    public function run(): void
    {

        $test = Test::where('code', 'career-anchors')->first();

        if (!$test) {
            $this->command->error('Тест "Якоря карьеры" не найден!');
            return;
        }


        $test->questions()->delete();
        $test->categories()->delete();

        $this->command->info("Удалены старые вопросы и категории для теста 'Якоря карьеры'");

        $questions = [
            'Строить свою карьеру в пределах конкретной научной или технической сферы',
            'Осуществлять наблюдение и контроль над людьми на всех уровнях',
            'Иметь возможность делать по-своему и не быть стеснённым правилами какой-либо организации',
            'Иметь постоянное место работы с гарантированным окладом и социальной защищённостью',
            'Употреблять своё умение общаться на пользу людям, помогать другим',
            'Работать над проблемами, которые представляются почти неразрешимыми',
            'Вести такой образ жизни, чтобы интересы семьи и карьеры взаимно уравновешивали друг друга',
            'Создать и построить нечто, что всецело будет вашим произведением или идеей',
            'Продолжать работу по своей специальности, нежели получать более высокую должность, не связанную с вашей специальностью',
            'Быть первым руководителем в организации',
            'Иметь работу, не связанную с режимом или другими организационными ограничениями',
            'Работать в организации, которая обеспечит стабильность на длительный период времени',
            'Употребить свои умения и способности на то, чтобы сделать мир лучше',
            'Соревноваться с другими и побеждать',
            'Строить карьеру, которая позволит не изменять своему образу жизни',
            'Создать новое коммерческое предприятие',
            'Посвятить всю жизнь избранной профессии',
            'Занять высокую руководящую должность',
            'Иметь работу, которая предоставляет максимум свободы и автономии в выборе характера занятий, времени выполнения и т. д.',
            'Оставаться на одном месте жительства, чем переехать в связи с повышением',
            'Иметь возможность использовать свои умения и таланты для служения важной цели',
            'Единственная цель моей карьеры - находить и решать трудные проблемы независимо от того, в какой области они возникли',
            'Я всегда стремлюсь уделять одинаковое внимание моей семье и моей карьере',
            'Я всегда нахожусь в поиске идей, которые дают мне возможность начать и построить собственное дело',
            'Я соглашусь на руководящую должность только в том случае, если она находится в сфере моей профессиональной компетенции',
            'Я хотел бы достичь такого положения в организации, которое давало бы возможность наблюдать за работой других и интегрировать их деятельность',
            'В моей профессиональной деятельности я более всего заботился о своей свободе и автономии',
            'Для меня важнее остаться на нынешнем месте жительства, чем получить повышение или новую работу в другой местности',
            'Я всегда искал работу, на которой мог бы приносить пользу другим',
            'Соревнование и выигрыш - это наиболее волнующие стороны моей карьеры',
            'Карьера имеет смысл только в том случае, если она позволяет мне вести жизнь, которая нравится',
            'Предпринимательская деятельность составляет центральную часть моей карьеры',
            'Я скорее бы ушел из организации, чем стал бы заниматься работой, не связанной с моей профессией',
            'Я буду считать, что достигну успеха в карьере только тогда, когда стану руководителем высокого уровня в солидной организации',
            'Я не хочу, чтобы меня стесняла какая-нибудь организация или мир бизнеса',
            'Я предпочёл бы работать в организации, которая обеспечивает длительный контракт',
            'Я хотел бы посвятить свою карьеру достижению важной и полезной цели',
            'Я чувствую себя преуспевающим только тогда, когда я постоянно вовлечён в решение трудных проблем или в ситуацию соревнования',
            'Выбрать и поддержать определённый образ жизни важнее, чем добиться успеха в карьере',
            'Я всегда хотел основать свой собственный бизнес',
            'Я предпочитаю работу, которая не связана с командировками'
        ];

        foreach ($questions as $index => $questionText) {
            $question = TestQuestion::create([
                'test_id' => $test->id,
                'category_id' => null,
                'question_text' => $questionText,
                'question_type' => 'scale',
                'order_index' => $index + 1,
                'is_required' => true,
            ]);


            for ($i = 1; $i <= 10; $i++) {
                TestQuestionOption::create([
                    'question_id' => $question->id,
                    'option_text' => (string)$i,
                    'option_value' => (string)$i,
                    'weight' => $i,
                    'order_index' => $i,
                ]);
            }
        }

        $this->command->info("Добавлено " . count($questions) . " вопросов для теста 'Якоря карьеры' с 10-балльной шкалой.");
    }
}
